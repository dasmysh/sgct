#!/bin/bash
# merge libs
if [ -f libsgct_light_cpp11.a ] && [ -f libsgct_light_cpp11d.a ];
then
	echo "Merging release libs... "
	if [ -f libsgct_cpp11.a ];
	then
		rm libsgct_cpp11.a
	fi
	ar x deps/libglew.a
	ar x deps/libglfw3.a
	ar x deps/libz.a
	ar x deps/libminizip.a
	ar x deps/libpng16.a
	ar x deps/libturbojpeg.a
	@SGCT_FREETYPE_RELEASE_LIB_PATH@
	ar x deps/libtinyxml2.a
	ar x deps/libvrpn.a
	ar x libsgct_light_cpp11.a
	ar r libsgct_cpp11.a *.o
	rm *.o
	echo "Merging debug libs... "
	if [ -f libsgct_cpp11d.a ];
	then
		rm libsgct_cpp11d.a
	fi
	ar x deps/libglewd.a
	ar x deps/libglfw3d.a
	ar x deps/libzd.a
	ar x deps/libminizipd.a
	ar x deps/libpng16d.a
	ar x deps/libturbojpegd.a
	@SGCT_FREETYPE_DEBUG_LIB_PATH@
	ar x deps/libtinyxml2d.a
	ar x deps/libvrpnd.a
	ar x libsgct_light_cpp11d.a
	ar r libsgct_cpp11d.a *.o
	rm *.o
	echo "Done."
elif [ -f libsgct_light_cpp11.a ];
then
	echo "Merging release libs... "
	if [ -f libsgct_cpp11.a ];
	then
		rm libsgct_cpp11.a
	fi
	ar x deps/libglew.a
	ar x deps/libglfw3.a
	ar x deps/libz.a
	ar x deps/libminizip.a
	ar x deps/libpng16.a
	ar x deps/libturbojpeg.a
	@SGCT_FREETYPE_RELEASE_LIB_PATH@
	ar x deps/libtinyxml2.a
	ar x deps/libvrpn.a
	ar x libsgct_light_cpp11.a
	ar r libsgct_cpp11.a *.o
	rm *.o
	echo "Done."
elif [ -f libsgct_light_cpp11d.a ];
then
	echo "Merging debug libs... "
	if [ -f libsgct_cpp11d.a ];
	then
		rm libsgct_cpp11d.a
	fi
	ar x deps/libglewd.a
	ar x deps/libglfw3d.a
	ar x deps/libzd.a
	ar x deps/libminizipd.a
	ar x deps/libpng16d.a
	ar x deps/libturbojpegd.a
	@SGCT_FREETYPE_DEBUG_LIB_PATH@
	ar x deps/libtinyxml2d.a
	ar x deps/libvrpnd.a
	ar x libsgct_light_cpp11d.a
	ar r libsgct_cpp11d.a *.o
	rm *.o
	echo "Done."
fi
